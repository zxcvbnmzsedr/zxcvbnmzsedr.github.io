{
    "componentChunkName": "component---src-templates-topic-page-template-tsx",
    "path": "/topic/系统设计/每个程序员都应该知道的延迟数字",
    "result": {"pageContext":{"id":"/topic/系统设计/每个程序员都应该知道的延迟数字","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"每个程序员都应该知道的延迟数字"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在一些情况下对系统设计的时候，需要做出对系统性能的保守估计。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jeff Dean （谷歌的巨佬，分布式系统的奠基人）在"},{"type":"element","tagName":"a","properties":{"href":"https://link.zhihu.com/?target=https%3A//www.cs.cornell.edu/projects/ladis2009/talks/dean-keynote-ladis2009.pdf"},"children":[{"type":"text","value":"分布式系统的PPT"}]},{"type":"text","value":"中列出了\"Latency Numbers Every Programmer Should Know\"(每个程序员都应该了解的数字)，对计算机中的各类的操作的耗时做了大致的估计。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"|操作|延迟|\n| -----------------------------------| --------------------------|\n|执行一个指令|1 ns|\n|L1 缓存查询|0.5 ns|\n|分支预测错误（Branch mispredict）|3 ns|\n|L2 缓存查询|4 ns|\n|互斥锁/解锁|17 ns|\n|在 1Gbps 的网络上发送 2KB|44 ns|\n|主存访问|100 ns|\n|Zippy 压缩 1KB|2,000 ns|\n|从内存顺序读取 1 MB|3,000 ns|\n|SSD 随机读|16,000 ns|\n|从 SSD 顺序读取 1 MB|49,000 ns|\n|同一个数据中心往返|500,000 ns|\n|从磁盘顺序读取 1 MB|825,000 ns|\n|磁盘寻址|2,000,000 ns (2 ms)|\n|从美国发送到欧洲的数据包|150,000,000 ns（150 ms）|"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"基于上述数字的指标："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"从磁盘以 30 MB/s 的速度顺序读取"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"以 100 MB/s 从 1 Gbps 的以太网顺序读取"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"从 SSD 以 1 GB/s 的速度读取"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"以 4 GB/s 的速度从主存读取"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"每秒能绕地球 6-7 圈"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"数据中心内每秒有 2,000 次往返"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jeff Dean给出这些数字的重点是在于了解这些操作之间的数量级和比例，而不是具体的数字。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"因为计算机会随着科技的发展，变得越来越快。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"伯克利大学有个"},{"type":"element","tagName":"a","properties":{"href":"https://colin-scott.github.io/personal_website/research/interactive_latency.html"},"children":[{"type":"text","value":"动态网页"}]},{"type":"text","value":"，可以查看每年各个操作耗时的变化"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://image.ztianzeng.com/uPic/20220524195143.png","alt":""},"children":[]}]}],"data":{"quirksMode":false}},"headings":[{"depth":1,"value":"每个程序员都应该知道的延迟数字","slug":"每个程序员都应该知道的延迟数字"}]}},
    "staticQueryHashes": ["928362550"]}