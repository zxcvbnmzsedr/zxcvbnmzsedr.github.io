{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/在上Alpine Linux安装Adguard Home","result":{"data":{"siYuan":{"excerpt":"在上Alpine Linux安装Adguard Home title: '在上Alpine Linux安装Adguard Home' date: 2021-12-19 14:52:15 tags: [软路由] published: true...","raw":"# 在上Alpine Linux安装Adguard Home\n\n---\n\ntitle: '在上Alpine Linux安装Adguard Home'  \ndate: 2021-12-19 14:52:15  \ntags: [软路由]  \npublished: true  \nhideInList: false  \nfeature:  \nisTop: false\n\n---\n\n由于没有Systemd, Adguard Home的官网的安装方法在Alpine Linux上无法工作。\n然而，需要用OpenRC运行它非常简单。\n\n1. 通过 `curl -s -S -L https://raw.githubusercontent.com/AdguardTeam/AdGuardHome/master/scripts/install.sh | sh -s -- -v` 进行安装\n2. 编写命令  `vim /etc/init.d/AdguardHome`\n\n   ```sh\n   #!/sbin/openrc-run\n   #\n   # openrc service-script for AdGuardHome\n   #\n   # place in /etc/init.d/\n   # start on boot: \"rc-update add adguardhome\"\n   # control service: \"service adguardhome <start|stop|restart|status|checkconfig>\"\n   #\n\n   description=\"AdGuard Home: Network-level blocker\"\n\n   pidfile=\"/run/$RC_SVCNAME.pid\"\n   command=\"/opt/AdGuardHome/AdGuardHome\"\n   command_args=\"-s run\"\n   command_background=true\n\n   extra_commands=\"checkconfig\"\n\n   depend() {\n     need net\n     provide dns\n     after firewall\n   }\n\n   checkconfig() {\n     \"$command\" --check-config || return 1\n   }\n\n   stop() {\n     if [ \"${RC_CMD}\" = \"restart\" ] ; then\n       checkconfig || return 1\n     fi\n\n     ebegin \"Stopping $RC_SVCNAME\"\n     start-stop-daemon --stop --exec \"$command\" \\\n       --pidfile \"$pidfile\" --quiet\n     eend $?\n   }\n   ```\n3. 启动服务，并开启自启动\n\n   `chmod +x /etc/init.d/AdguardHome`\n   `rc-update add AdguardHome`\n   `rc-service  AdguardHome start`\n","field":{"slug":"/posts/在上Alpine Linux安装Adguard Home"},"frontmatter":{"title":"在上Alpine Linux安装Adguard Home","tags":["软路由"],"date":"2022-04-21","description":"在上Alpine Linux安装Adguard Home title: '在上Alpine Linux安装Adguard Home' date: 2021-12-19 14:52:15 tags: [软路由] published: true..."}},"prev":{"frontmatter":{"title":"Openwrt搭建免流服务器"},"field":{"slug":"/posts/Openwrt搭建免流服务器"}},"next":{"frontmatter":{"title":"K8S从入门到放弃 —— 安装Ingress"},"field":{"slug":"/posts/K8S从入门到放弃 —— 安装Ingress"}}},"pageContext":{"slug":"/posts/在上Alpine Linux安装Adguard Home","prevSlug":"/posts/Openwrt搭建免流服务器","nextSlug":"/posts/K8S从入门到放弃 —— 安装Ingress"}},"staticQueryHashes":["1284643331","2841359383"]}