{
    "componentChunkName": "component---src-templates-article-page-template-tsx",
    "path": "/posts/spring24",
    "result": {"pageContext":{"id":"/posts/spring24","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"全新的配置文件处理"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　我感觉最大的改变是提供了新的配置文件的加载方式，为了去适应k8s容器化部署中的configMap。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　如果不想使用新的加载方式，依然提供了旧版的加载方式"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　引入依赖"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"xml","dataIndex":"0"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"dependency"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"groupId"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"org.springframework.cloud"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"</"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"groupId"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"artifactId"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"spring-cloud-starter-bootstrap"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"</"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"artifactId"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"version"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"3.0.3"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"</"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"version"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"</"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"dependency"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　在配置文件中加上 spring.config.use-legacy-processing=true "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"新版加载方式spring.config.import属性"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　spring.config.import属性可被视作这个版本最为牛逼的属性。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　可以从不同的位置加载数据"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"加载classpath数据"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"properties","dataIndex":"1"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"spring.config.import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"=optional:file:./dev.properties"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"加载文件系统的数据"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"properties","dataIndex":"2"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"spring.config.import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"=file:/etc/config/myconfig[.yaml]"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":3},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"加载Kubernetes的configMap(先将Kubernetes的数据挂载到卷轴上，然后在进行引用)\n"},{"type":"element","tagName":"a","properties":{"href":"https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-files-from-a-pod"},"children":[{"type":"text","value":"如何配置看这里"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"properties","dataIndex":"3"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"spring.config.import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"=optional:configtree:/etc/config/"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"自定义加载数据，你可以通过自己喜欢的方式去从任意位置加载配置文件\n"},{"type":"element","tagName":"a","properties":{"href":"/post/zai-spring24-zhong-shi-yong-nacosconfig/"},"children":[{"type":"text","value":"😃具体使用方式看这里"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"新的版本描述方案"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　为了更加照顾英语非母语的开发者，spring采用了新的命名方案。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　之前那套用英文命名的真的让人摸不着头脑，英语也就算了，还整些个不常用的生词。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　单词的拼写很困难，版本号全靠复制。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　而且版本号上面也难以看出版本向下兼容性，很难做出判断而做出风险预估。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　为了解决这些问题"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　Spring采用了日历化版本，并且使用的规则/公式是YYYY.MINOR.MICRO[-MODIFIER]，"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"对各部分解释如下："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"YYYY：年份全称。eg：2020"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MINOR：辅助版本号（一般升级些非主线功能），在当前年内从0递增"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MICRO：补丁版本号（一般修复些bug），在当前年内从0递增"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MODIFIER：非必填。后缀，它用于修饰一些关键节点，用这些字母表示"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"M数字：里程碑版本，如2020.0.0-M1、2020.0.0-M2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RC数字：发布候选版本，如2020.0.0-RC1、2020.0.0-RC2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SNAPSHOT：快照版本（后无数字），如2020.0.0-SNAPSHOT"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"啥都木有：正式版本（可放心使用，相当于之前的xxx-RELEASE），如2020.0.0"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"R2DBC"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　AR2dbcEntityTemplate可用于通过实体简化 Reactive R2DBC 的使用"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Java 15 支持"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　Spring Boot 2.4 现在完全支持（并针对）Java 15。支持的最低版本仍然是 Java 8。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"自定义属性名称支持"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　如果想注入的名称和java关键字想冲突可以使用@Name属性进行注入"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"java","dataIndex":"4"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"@"}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"ConfigurationProperties"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"(prefix = "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"\"sample\""}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":")"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"@"}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"ConstructorBinding"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"public"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"SampleConfigurationProperties"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" {"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"private"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"final"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"String"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"importValue"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":";"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"public"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk11"]},"children":[{"type":"text","value":"SampleConfigurationProperties"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"(@"}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"Name"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"\"import\""}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":") "}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"String"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"importValue"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":") {"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"importValue"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" = importValue;"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  }"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"依赖升级"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring AMQP 2.3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Batch 4."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Data 2020.0"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Framework 5.3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Integration 5.4"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring HATEOAS 1.2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Kafka 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Retry 1.3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Security 5.4"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Session 2020.0"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　还更新了许多第三方依赖项："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Artemis 2.13"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"AssertJ 3.18"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Cassandra Driver 4.7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Elasticsearch 7.9"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Flyway 7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Jersey 2.31"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"JUnit 5.7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Liquibase 3.10"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Lettuce 6.0"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Micrometer 1.6"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Mockito 3.4"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MongoDB 4.1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Oracle Database 19.7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Reactor 2020.0"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RSocket 1.1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Undertow 2.2"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"style","properties":{"className":["grvsc-styles"]},"children":[{"type":"text","value":"\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk17 { color: #808080; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n"}]}],"data":{"quirksMode":false}},"html":"<h1 id=\"全新的配置文件处理\">全新的配置文件处理</h1>\n<p updated=\"20220805101449\">　　我感觉最大的改变是提供了新的配置文件的加载方式，为了去适应k8s容器化部署中的configMap。</p>\n<p updated=\"20220805101449\">　　如果不想使用新的加载方式，依然提供了旧版的加载方式</p>\n<p updated=\"20220805101449\">　　引入依赖</p>\n<pre class=\"code-block\" data-language=\"xml\"><code class=\"hljs\">&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n  &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p updated=\"20220805101449\">　　在配置文件中加上 spring.config.use-legacy-processing=true </p>\n<h2 id=\"新版加载方式spring-config-import属性\">新版加载方式spring.config.import属性</h2>\n<p updated=\"20220805101449\">　　spring.config.import属性可被视作这个版本最为牛逼的属性。</p>\n<p updated=\"20220805101449\">　　可以从不同的位置加载数据</p>\n<ol updated=\"20220805101449\">\n<li id=\"20220805101449-2akehsi\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">加载classpath数据</p>\n</li>\n</ol>\n<pre class=\"code-block\" data-language=\"properties\"><code class=\"hljs\">spring.config.import=optional:file:./dev.properties\n</code></pre>\n<ol updated=\"20220805101449\">\n<li id=\"20220805101449-t657vpo\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">加载文件系统的数据</p>\n</li>\n</ol>\n<pre class=\"code-block\" data-language=\"properties\"><code class=\"hljs\">spring.config.import=file:/etc/config/myconfig[.yaml]\n</code></pre>\n<ol start=\"3\" updated=\"20220805101449\">\n<li id=\"20220805101449-s248ep6\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">加载Kubernetes的configMap(先将Kubernetes的数据挂载到卷轴上，然后在进行引用)<br />\n<a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-files-from-a-pod\">如何配置看这里</a></p>\n</li>\n</ol>\n<pre class=\"code-block\" data-language=\"properties\"><code class=\"hljs\">spring.config.import=optional:configtree:/etc/config/\n</code></pre>\n<ol start=\"4\" updated=\"20220805101449\">\n<li id=\"20220805101449-dj8jwes\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">自定义加载数据，你可以通过自己喜欢的方式去从任意位置加载配置文件<br />\n<a href=\"/post/zai-spring24-zhong-shi-yong-nacosconfig/\">😃具体使用方式看这里</a></p>\n</li>\n</ol>\n<h1 id=\"新的版本描述方案\">新的版本描述方案</h1>\n<p updated=\"20220805101449\">　　为了更加照顾英语非母语的开发者，spring采用了新的命名方案。</p>\n<p updated=\"20220805101449\">　　之前那套用英文命名的真的让人摸不着头脑，英语也就算了，还整些个不常用的生词。</p>\n<p updated=\"20220805101449\">　　单词的拼写很困难，版本号全靠复制。</p>\n<p updated=\"20220805101449\">　　而且版本号上面也难以看出版本向下兼容性，很难做出判断而做出风险预估。</p>\n<p updated=\"20220805101449\">　　为了解决这些问题</p>\n<p updated=\"20220805101449\">　　Spring采用了日历化版本，并且使用的规则/公式是YYYY.MINOR.MICRO[-MODIFIER]，</p>\n<h3 id=\"对各部分解释如下-\">对各部分解释如下：</h3>\n<ul updated=\"20220805101449\">\n<li id=\"20220805101449-z93egy6\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">YYYY：年份全称。eg：2020</p>\n</li>\n<li id=\"20220805101449-buezdo6\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">MINOR：辅助版本号（一般升级些非主线功能），在当前年内从0递增</p>\n</li>\n<li id=\"20220805101449-no7zja0\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">MICRO：补丁版本号（一般修复些bug），在当前年内从0递增</p>\n</li>\n<li id=\"20220805101449-kg8r5mk\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">MODIFIER：非必填。后缀，它用于修饰一些关键节点，用这些字母表示</p>\n</li>\n<li id=\"20220805101449-g64q1gv\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">M数字：里程碑版本，如2020.0.0-M1、2020.0.0-M2</p>\n</li>\n<li id=\"20220805101449-ci40ywm\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">RC数字：发布候选版本，如2020.0.0-RC1、2020.0.0-RC2</p>\n</li>\n<li id=\"20220805101449-elp91rf\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">SNAPSHOT：快照版本（后无数字），如2020.0.0-SNAPSHOT</p>\n</li>\n<li id=\"20220805101449-l0t6bas\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">啥都木有：正式版本（可放心使用，相当于之前的xxx-RELEASE），如2020.0.0</p>\n</li>\n</ul>\n<hr />\n<h1 id=\"R2DBC\">R2DBC</h1>\n<p updated=\"20220805101449\">　　AR2dbcEntityTemplate可用于通过实体简化 Reactive R2DBC 的使用</p>\n<h1 id=\"Java-15-支持\">Java 15 支持</h1>\n<p updated=\"20220805101449\">　　Spring Boot 2.4 现在完全支持（并针对）Java 15。支持的最低版本仍然是 Java 8。</p>\n<h1 id=\"自定义属性名称支持\">自定义属性名称支持</h1>\n<p updated=\"20220805101449\">　　如果想注入的名称和java关键字想冲突可以使用@Name属性进行注入</p>\n<pre class=\"code-block\" data-language=\"java\"><code class=\"hljs\">@ConfigurationProperties(prefix = &quot;sample&quot;)\n@ConstructorBinding\npublic class SampleConfigurationProperties {\n\n  private final String importValue;\n\n  public SampleConfigurationProperties(@Name(&quot;import&quot;) String importValue) {\n    this.importValue = importValue;\n  }\n\n}\n</code></pre>\n<h1 id=\"依赖升级\">依赖升级</h1>\n<ul updated=\"20220805101449\">\n<li id=\"20220805101449-7a9xt03\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring AMQP 2.3</p>\n</li>\n<li id=\"20220805101449-foxedsb\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Batch 4.</p>\n</li>\n<li id=\"20220805101449-ab5c37b\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Data 2020.0</p>\n</li>\n<li id=\"20220805101449-tmj8h0w\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Framework 5.3</p>\n</li>\n<li id=\"20220805101449-jvo4kui\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Integration 5.4</p>\n</li>\n<li id=\"20220805101449-3nokdm0\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring HATEOAS 1.2</p>\n</li>\n<li id=\"20220805101449-b1v44m6\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Kafka 2</p>\n</li>\n<li id=\"20220805101449-fit5w3a\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Retry 1.3</p>\n</li>\n<li id=\"20220805101449-dtvqvbs\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Security 5.4</p>\n</li>\n<li id=\"20220805101449-r2s5x34\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Session 2020.0</p>\n</li>\n</ul>\n<p updated=\"20220805101449\">　　还更新了许多第三方依赖项：</p>\n<ul updated=\"20220805101449\">\n<li id=\"20220805101449-l9nz1e1\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Artemis 2.13</p>\n</li>\n<li id=\"20220805101449-owtwoud\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">AssertJ 3.18</p>\n</li>\n<li id=\"20220805101449-80xe436\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Cassandra Driver 4.7</p>\n</li>\n<li id=\"20220805101449-kj1gnjx\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Elasticsearch 7.9</p>\n</li>\n<li id=\"20220805101449-e6a173u\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Flyway 7</p>\n</li>\n<li id=\"20220805101449-hkfu37d\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Jersey 2.31</p>\n</li>\n<li id=\"20220805101449-y8kbiej\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">JUnit 5.7</p>\n</li>\n<li id=\"20220805101449-9v9jvuq\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Liquibase 3.10</p>\n</li>\n<li id=\"20220805101449-7w2uuko\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Lettuce 6.0</p>\n</li>\n<li id=\"20220805101449-g216wh8\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Micrometer 1.6</p>\n</li>\n<li id=\"20220805101449-1a65esg\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Mockito 3.4</p>\n</li>\n<li id=\"20220805101449-r1v45jp\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">MongoDB 4.1</p>\n</li>\n<li id=\"20220805101449-zgngrvv\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Oracle Database 19.7</p>\n</li>\n<li id=\"20220805101449-1jj8qc8\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Reactor 2020.0</p>\n</li>\n<li id=\"20220805101449-z9dzbs4\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">RSocket 1.1</p>\n</li>\n<li id=\"20220805101449-b7k7h95\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Undertow 2.2</p>\n</li>\n</ul>\n","articleNode":{"field":{"contentType":"posts","topic":null},"frontmatter":{"id":"/posts/spring24","title":"spring24","date":"2022-04-21 15:48","absolute_path":"/posts/spring24"},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"全新的配置文件处理"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　我感觉最大的改变是提供了新的配置文件的加载方式，为了去适应k8s容器化部署中的configMap。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　如果不想使用新的加载方式，依然提供了旧版的加载方式"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　引入依赖"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"xml","dataIndex":"0"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"dependency"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"groupId"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"org.springframework.cloud"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"</"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"groupId"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"artifactId"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"spring-cloud-starter-bootstrap"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"</"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"artifactId"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"version"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"3.0.3"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"</"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"version"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"</"}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"dependency"}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　在配置文件中加上 spring.config.use-legacy-processing=true "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"新版加载方式spring.config.import属性"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　spring.config.import属性可被视作这个版本最为牛逼的属性。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　可以从不同的位置加载数据"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"加载classpath数据"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"properties","dataIndex":"1"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"spring.config.import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"=optional:file:./dev.properties"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"加载文件系统的数据"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"properties","dataIndex":"2"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"spring.config.import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"=file:/etc/config/myconfig[.yaml]"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":3},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"加载Kubernetes的configMap(先将Kubernetes的数据挂载到卷轴上，然后在进行引用)\n"},{"type":"element","tagName":"a","properties":{"href":"https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-files-from-a-pod"},"children":[{"type":"text","value":"如何配置看这里"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"properties","dataIndex":"3"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"spring.config.import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"=optional:configtree:/etc/config/"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"自定义加载数据，你可以通过自己喜欢的方式去从任意位置加载配置文件\n"},{"type":"element","tagName":"a","properties":{"href":"/post/zai-spring24-zhong-shi-yong-nacosconfig/"},"children":[{"type":"text","value":"😃具体使用方式看这里"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"新的版本描述方案"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　为了更加照顾英语非母语的开发者，spring采用了新的命名方案。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　之前那套用英文命名的真的让人摸不着头脑，英语也就算了，还整些个不常用的生词。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　单词的拼写很困难，版本号全靠复制。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　而且版本号上面也难以看出版本向下兼容性，很难做出判断而做出风险预估。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　为了解决这些问题"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　Spring采用了日历化版本，并且使用的规则/公式是YYYY.MINOR.MICRO[-MODIFIER]，"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"对各部分解释如下："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"YYYY：年份全称。eg：2020"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MINOR：辅助版本号（一般升级些非主线功能），在当前年内从0递增"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MICRO：补丁版本号（一般修复些bug），在当前年内从0递增"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MODIFIER：非必填。后缀，它用于修饰一些关键节点，用这些字母表示"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"M数字：里程碑版本，如2020.0.0-M1、2020.0.0-M2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RC数字：发布候选版本，如2020.0.0-RC1、2020.0.0-RC2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SNAPSHOT：快照版本（后无数字），如2020.0.0-SNAPSHOT"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"啥都木有：正式版本（可放心使用，相当于之前的xxx-RELEASE），如2020.0.0"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"R2DBC"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　AR2dbcEntityTemplate可用于通过实体简化 Reactive R2DBC 的使用"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Java 15 支持"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　Spring Boot 2.4 现在完全支持（并针对）Java 15。支持的最低版本仍然是 Java 8。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"自定义属性名称支持"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　如果想注入的名称和java关键字想冲突可以使用@Name属性进行注入"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"java","dataIndex":"4"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"@"}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"ConfigurationProperties"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"(prefix = "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"\"sample\""}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":")"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"@"}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"ConstructorBinding"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"public"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"SampleConfigurationProperties"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" {"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"private"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"final"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"String"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"importValue"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":";"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"public"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk11"]},"children":[{"type":"text","value":"SampleConfigurationProperties"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"(@"}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"Name"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"\"import\""}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":") "}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"String"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"importValue"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":") {"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"importValue"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" = importValue;"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  }"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"依赖升级"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring AMQP 2.3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Batch 4."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Data 2020.0"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Framework 5.3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Integration 5.4"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring HATEOAS 1.2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Kafka 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Retry 1.3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Security 5.4"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Spring Session 2020.0"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"　　还更新了许多第三方依赖项："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Artemis 2.13"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"AssertJ 3.18"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Cassandra Driver 4.7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Elasticsearch 7.9"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Flyway 7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Jersey 2.31"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"JUnit 5.7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Liquibase 3.10"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Lettuce 6.0"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Micrometer 1.6"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Mockito 3.4"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MongoDB 4.1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Oracle Database 19.7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Reactor 2020.0"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RSocket 1.1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Undertow 2.2"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"style","properties":{"className":["grvsc-styles"]},"children":[{"type":"text","value":"\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk17 { color: #808080; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n"}]}],"data":{"quirksMode":false}},"html":"<h1 id=\"全新的配置文件处理\">全新的配置文件处理</h1>\n<p updated=\"20220805101449\">　　我感觉最大的改变是提供了新的配置文件的加载方式，为了去适应k8s容器化部署中的configMap。</p>\n<p updated=\"20220805101449\">　　如果不想使用新的加载方式，依然提供了旧版的加载方式</p>\n<p updated=\"20220805101449\">　　引入依赖</p>\n<pre class=\"code-block\" data-language=\"xml\"><code class=\"hljs\">&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n  &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p updated=\"20220805101449\">　　在配置文件中加上 spring.config.use-legacy-processing=true </p>\n<h2 id=\"新版加载方式spring-config-import属性\">新版加载方式spring.config.import属性</h2>\n<p updated=\"20220805101449\">　　spring.config.import属性可被视作这个版本最为牛逼的属性。</p>\n<p updated=\"20220805101449\">　　可以从不同的位置加载数据</p>\n<ol updated=\"20220805101449\">\n<li id=\"20220805101449-2akehsi\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">加载classpath数据</p>\n</li>\n</ol>\n<pre class=\"code-block\" data-language=\"properties\"><code class=\"hljs\">spring.config.import=optional:file:./dev.properties\n</code></pre>\n<ol updated=\"20220805101449\">\n<li id=\"20220805101449-t657vpo\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">加载文件系统的数据</p>\n</li>\n</ol>\n<pre class=\"code-block\" data-language=\"properties\"><code class=\"hljs\">spring.config.import=file:/etc/config/myconfig[.yaml]\n</code></pre>\n<ol start=\"3\" updated=\"20220805101449\">\n<li id=\"20220805101449-s248ep6\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">加载Kubernetes的configMap(先将Kubernetes的数据挂载到卷轴上，然后在进行引用)<br />\n<a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-files-from-a-pod\">如何配置看这里</a></p>\n</li>\n</ol>\n<pre class=\"code-block\" data-language=\"properties\"><code class=\"hljs\">spring.config.import=optional:configtree:/etc/config/\n</code></pre>\n<ol start=\"4\" updated=\"20220805101449\">\n<li id=\"20220805101449-dj8jwes\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">自定义加载数据，你可以通过自己喜欢的方式去从任意位置加载配置文件<br />\n<a href=\"/post/zai-spring24-zhong-shi-yong-nacosconfig/\">😃具体使用方式看这里</a></p>\n</li>\n</ol>\n<h1 id=\"新的版本描述方案\">新的版本描述方案</h1>\n<p updated=\"20220805101449\">　　为了更加照顾英语非母语的开发者，spring采用了新的命名方案。</p>\n<p updated=\"20220805101449\">　　之前那套用英文命名的真的让人摸不着头脑，英语也就算了，还整些个不常用的生词。</p>\n<p updated=\"20220805101449\">　　单词的拼写很困难，版本号全靠复制。</p>\n<p updated=\"20220805101449\">　　而且版本号上面也难以看出版本向下兼容性，很难做出判断而做出风险预估。</p>\n<p updated=\"20220805101449\">　　为了解决这些问题</p>\n<p updated=\"20220805101449\">　　Spring采用了日历化版本，并且使用的规则/公式是YYYY.MINOR.MICRO[-MODIFIER]，</p>\n<h3 id=\"对各部分解释如下-\">对各部分解释如下：</h3>\n<ul updated=\"20220805101449\">\n<li id=\"20220805101449-z93egy6\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">YYYY：年份全称。eg：2020</p>\n</li>\n<li id=\"20220805101449-buezdo6\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">MINOR：辅助版本号（一般升级些非主线功能），在当前年内从0递增</p>\n</li>\n<li id=\"20220805101449-no7zja0\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">MICRO：补丁版本号（一般修复些bug），在当前年内从0递增</p>\n</li>\n<li id=\"20220805101449-kg8r5mk\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">MODIFIER：非必填。后缀，它用于修饰一些关键节点，用这些字母表示</p>\n</li>\n<li id=\"20220805101449-g64q1gv\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">M数字：里程碑版本，如2020.0.0-M1、2020.0.0-M2</p>\n</li>\n<li id=\"20220805101449-ci40ywm\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">RC数字：发布候选版本，如2020.0.0-RC1、2020.0.0-RC2</p>\n</li>\n<li id=\"20220805101449-elp91rf\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">SNAPSHOT：快照版本（后无数字），如2020.0.0-SNAPSHOT</p>\n</li>\n<li id=\"20220805101449-l0t6bas\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">啥都木有：正式版本（可放心使用，相当于之前的xxx-RELEASE），如2020.0.0</p>\n</li>\n</ul>\n<hr />\n<h1 id=\"R2DBC\">R2DBC</h1>\n<p updated=\"20220805101449\">　　AR2dbcEntityTemplate可用于通过实体简化 Reactive R2DBC 的使用</p>\n<h1 id=\"Java-15-支持\">Java 15 支持</h1>\n<p updated=\"20220805101449\">　　Spring Boot 2.4 现在完全支持（并针对）Java 15。支持的最低版本仍然是 Java 8。</p>\n<h1 id=\"自定义属性名称支持\">自定义属性名称支持</h1>\n<p updated=\"20220805101449\">　　如果想注入的名称和java关键字想冲突可以使用@Name属性进行注入</p>\n<pre class=\"code-block\" data-language=\"java\"><code class=\"hljs\">@ConfigurationProperties(prefix = &quot;sample&quot;)\n@ConstructorBinding\npublic class SampleConfigurationProperties {\n\n  private final String importValue;\n\n  public SampleConfigurationProperties(@Name(&quot;import&quot;) String importValue) {\n    this.importValue = importValue;\n  }\n\n}\n</code></pre>\n<h1 id=\"依赖升级\">依赖升级</h1>\n<ul updated=\"20220805101449\">\n<li id=\"20220805101449-7a9xt03\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring AMQP 2.3</p>\n</li>\n<li id=\"20220805101449-foxedsb\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Batch 4.</p>\n</li>\n<li id=\"20220805101449-ab5c37b\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Data 2020.0</p>\n</li>\n<li id=\"20220805101449-tmj8h0w\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Framework 5.3</p>\n</li>\n<li id=\"20220805101449-jvo4kui\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Integration 5.4</p>\n</li>\n<li id=\"20220805101449-3nokdm0\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring HATEOAS 1.2</p>\n</li>\n<li id=\"20220805101449-b1v44m6\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Kafka 2</p>\n</li>\n<li id=\"20220805101449-fit5w3a\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Retry 1.3</p>\n</li>\n<li id=\"20220805101449-dtvqvbs\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Security 5.4</p>\n</li>\n<li id=\"20220805101449-r2s5x34\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Spring Session 2020.0</p>\n</li>\n</ul>\n<p updated=\"20220805101449\">　　还更新了许多第三方依赖项：</p>\n<ul updated=\"20220805101449\">\n<li id=\"20220805101449-l9nz1e1\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Artemis 2.13</p>\n</li>\n<li id=\"20220805101449-owtwoud\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">AssertJ 3.18</p>\n</li>\n<li id=\"20220805101449-80xe436\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Cassandra Driver 4.7</p>\n</li>\n<li id=\"20220805101449-kj1gnjx\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Elasticsearch 7.9</p>\n</li>\n<li id=\"20220805101449-e6a173u\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Flyway 7</p>\n</li>\n<li id=\"20220805101449-hkfu37d\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Jersey 2.31</p>\n</li>\n<li id=\"20220805101449-y8kbiej\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">JUnit 5.7</p>\n</li>\n<li id=\"20220805101449-9v9jvuq\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Liquibase 3.10</p>\n</li>\n<li id=\"20220805101449-7w2uuko\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Lettuce 6.0</p>\n</li>\n<li id=\"20220805101449-g216wh8\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Micrometer 1.6</p>\n</li>\n<li id=\"20220805101449-1a65esg\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Mockito 3.4</p>\n</li>\n<li id=\"20220805101449-r1v45jp\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">MongoDB 4.1</p>\n</li>\n<li id=\"20220805101449-zgngrvv\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Oracle Database 19.7</p>\n</li>\n<li id=\"20220805101449-1jj8qc8\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Reactor 2020.0</p>\n</li>\n<li id=\"20220805101449-z9dzbs4\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">RSocket 1.1</p>\n</li>\n<li id=\"20220805101449-b7k7h95\" updated=\"20220805101449\">\n<p updated=\"20220805101449\">Undertow 2.2</p>\n</li>\n</ul>\n","headings":[{"depth":1,"value":"全新的配置文件处理"},{"depth":2,"value":"新版加载方式spring.config.import属性"},{"depth":1,"value":"新的版本描述方案"},{"depth":3,"value":"对各部分解释如下："},{"depth":1,"value":"R2DBC"},{"depth":1,"value":"Java 15 支持"},{"depth":1,"value":"自定义属性名称支持"},{"depth":1,"value":"依赖升级"}],"path":"/posts/spring24"},"headings":[{"depth":1,"value":"全新的配置文件处理","slug":"全新的配置文件处理"},{"depth":2,"value":"新版加载方式spring.config.import属性","slug":"新版加载方式springconfigimport属性"},{"depth":1,"value":"新的版本描述方案","slug":"新的版本描述方案"},{"depth":3,"value":"对各部分解释如下：","slug":"对各部分解释如下"},{"depth":1,"value":"R2DBC","slug":"r2dbc"},{"depth":1,"value":"Java 15 支持","slug":"java-15-支持"},{"depth":1,"value":"自定义属性名称支持","slug":"自定义属性名称支持"},{"depth":1,"value":"依赖升级","slug":"依赖升级"}]}},
    "staticQueryHashes": ["630634786","928362550"]}