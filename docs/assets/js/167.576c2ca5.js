(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{480:function(t,a,v){"use strict";v.r(a);var _=v(6),s=Object(_.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"redis基本数据结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis基本数据结构"}},[t._v("#")]),t._v(" Redis基本数据结构")]),t._v(" "),a("p",[t._v("redis提供了5种常用的数据结构。")]),t._v(" "),a("h1",{attrs:{id:"常用的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用的"}},[t._v("#")]),t._v(" 常用的")]),t._v(" "),a("p",[t._v("已经涵盖了开发过程中的绝大多数情况")]),t._v(" "),a("p",[t._v("下面列举的应用场景是包括但不限于")]),t._v(" "),a("h2",{attrs:{id:"string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#string"}},[t._v("#")]),t._v(" string")]),t._v(" "),a("p",[t._v("字符串是最基本的Redis值。Redis字符串是二进制安全的，这意味着Redis字符串可以包含任何类型的数据，例如JPEG图像或序列化的Ruby对象。 字符串的长度最大为512兆字节。")]),t._v(" "),a("p",[t._v("内部的实现是通过 SDS（Simple Dynamic String ）来存储的。SDS 类似于 Java 中的 ArrayList，可以通过预分配冗余空间的方式来减少内存的频繁分配。")]),t._v(" "),a("p",[t._v("应用场景:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("分布式锁")])]),t._v(" "),a("li",[a("p",[t._v("缓存功能")])]),t._v(" "),a("li",[a("p",[t._v("利用自增的API作为原子计数器，统计阅读量，点赞数")])]),t._v(" "),a("li",[a("p",[t._v("Web集群的session")])]),t._v(" "),a("li",[a("p",[t._v("分布式系统全局序列号")])])]),t._v(" "),a("h2",{attrs:{id:"hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hash"}},[t._v("#")]),t._v(" hash")]),t._v(" "),a("p",[t._v("类似Map的一种结构.场景单一 应用场景:")]),t._v(" "),a("ul",[a("li",[t._v("电商购物车")])]),t._v(" "),a("h2",{attrs:{id:"list"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list"}},[t._v("#")]),t._v(" list")]),t._v(" "),a("p",[t._v("有序列表。存储一些列表型的数据结构，类似粉丝列表、文章的评论列表之类的东西。")]),t._v(" "),a("p",[t._v("应用场景:")]),t._v(" "),a("ul",[a("li",[t._v("微博和公众号的消息流")]),t._v(" "),a("li",[t._v("商品评论，文章列表或者数据分页展示的应用。")]),t._v(" "),a("li",[t._v("消息队列：Redis的链表结构，可以轻松实现阻塞队列，可以使用左进右出的命令组成来完成队列的设计。比如：数据的生产者可以通过Lpush命令从左边插入数据，多个数据消费者，可以使用BRpop命令阻塞的“抢”列表尾部的数据。")])]),t._v(" "),a("h2",{attrs:{id:"set"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set"}},[t._v("#")]),t._v(" set")]),t._v(" "),a("p",[t._v("会自动去重的无序集合。")]),t._v(" "),a("p",[t._v("应用场景:")]),t._v(" "),a("ul",[a("li",[t._v("抽奖（从集合中随机弹出一个元素，元素出一个删一个）")]),t._v(" "),a("li",[t._v("微信朋友圈点赞、收藏、标签")]),t._v(" "),a("li",[t._v("微信微博关注模型")])]),t._v(" "),a("h2",{attrs:{id:"zset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zset"}},[t._v("#")]),t._v(" zset")]),t._v(" "),a("p",[t._v("会自动去重的有序集合。")]),t._v(" "),a("p",[t._v("应用场景:")]),t._v(" "),a("ul",[a("li",[t._v("抖音微博热搜")]),t._v(" "),a("li",[t._v("商品销售榜，根据销售量进行排行")]),t._v(" "),a("li",[t._v("用Sorted Sets来做带权重的队列")])]),t._v(" "),a("p",[t._v("基于上面的五种结构，还提供了几种基于上面结构的扩展。")]),t._v(" "),a("h1",{attrs:{id:"扩展结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展结构"}},[t._v("#")]),t._v(" 扩展结构")]),t._v(" "),a("h2",{attrs:{id:"bitmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bitmap"}},[t._v("#")]),t._v(" bitmap")]),t._v(" "),a("p",[t._v("基于String类型扩展出来的数据结构，按照Bit位来存储信息")]),t._v(" "),a("p",[t._v("应用场景:")]),t._v(" "),a("ul",[a("li",[t._v("布隆过滤器")])]),t._v(" "),a("h2",{attrs:{id:"hyperloglog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hyperloglog"}},[t._v("#")]),t._v(" hyperloglog")]),t._v(" "),a("p",[t._v("提供不精确的去重计数功能，适合大规模数据的去重统计")]),t._v(" "),a("p",[t._v("应用场景:")]),t._v(" "),a("ul",[a("li",[t._v("亿级别的UV统计")])]),t._v(" "),a("h2",{attrs:{id:"geo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#geo"}},[t._v("#")]),t._v(" GEO")]),t._v(" "),a("p",[t._v("用于保存地理位置信息，并提供了位置距离计算或者根据半径计算的API。")]),t._v(" "),a("p",[t._v("还有不常用的扩展功能")]),t._v(" "),a("h1",{attrs:{id:"扩展功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展功能"}},[t._v("#")]),t._v(" 扩展功能")]),t._v(" "),a("h2",{attrs:{id:"pub-sub"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pub-sub"}},[t._v("#")]),t._v(" pub/sub")]),t._v(" "),a("p",[t._v("提供了简单的消息队列，不常用，用的最多的还是mq")]),t._v(" "),a("h2",{attrs:{id:"pipeline"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pipeline"}},[t._v("#")]),t._v(" pipeline")]),t._v(" "),a("p",[t._v("像是Linux的管道")]),t._v(" "),a("h2",{attrs:{id:"lua-脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lua-脚本"}},[t._v("#")]),t._v(" Lua 脚本")]),t._v(" "),a("p",[t._v("特点是能够原子性执行")]),t._v(" "),a("h2",{attrs:{id:"事务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事务"}},[t._v("#")]),t._v(" 事务")]),t._v(" "),a("p",[t._v("Redis 提供的不是严格的事务，Redis 只保证串行执行命令，并且能保证全部执行，但是执行命令失败时并不会回滚，而是会继续执行下去。")]),t._v(" "),a("p",[t._v("‍")])])}),[],!1,null,null,null);a.default=s.exports}}]);